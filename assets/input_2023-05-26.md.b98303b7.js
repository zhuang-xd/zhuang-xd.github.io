import{_ as s,o as a,c as l,O as n}from"./chunks/framework.4afe7240.js";const F=JSON.parse('{"title":"","description":"","frontmatter":{"title":"2023-05-26T00:00:00.000Z"},"headers":[],"relativePath":"input/2023-05-26.md","filePath":"input/2023-05-26.md","lastUpdated":1685263660000}'),o={name:"input/2023-05-26.md"},p=n(`<h2 id="第一个sh脚本" tabindex="-1">第一个sh脚本 <a class="header-anchor" href="#第一个sh脚本" aria-label="Permalink to &quot;第一个sh脚本&quot;">​</a></h2><p>sh脚本必须要可执行权限</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">u+x</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hello.sh</span></span></code></pre></div><p>代码如下</p><p><code>hello.sh</code></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/usr/bin/zsh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello wrold!</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>执行</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">./hello.sh</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 或</span></span>
<span class="line"><span style="color:#FFCB6B;">zsh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hello.sh</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 或</span></span>
<span class="line"><span style="color:#82AAFF;">source</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hello.sh</span></span></code></pre></div><h2 id="追加环境变量" tabindex="-1">追加环境变量 <a class="header-anchor" href="#追加环境变量" aria-label="Permalink to &quot;追加环境变量&quot;">​</a></h2><p>配置完环境变量后 <code>./hello.sh</code> 就可以直接以 <code>hello.sh</code> 执行</p><p>有以下4种方式：</p><ul><li>当前终端生效</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> PATH</span><span style="color:#89DDFF;">=\${</span><span style="color:#A6ACCD;">PATH</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">:/home/ubuntu/download</span><span style="color:#89DDFF;">\`</span></span></code></pre></div><ul><li><strong>当前用户</strong>配置文件 <code>~/.zshrc</code></li><li><strong>全局</strong>配置文件 <code>/etc/zsh/zshrc</code> （常用）</li></ul><p>tip：使用修改完配置文件需要 <code>source ~/.zshrc</code> 或 <code>. .zshrc</code>使修改生效</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> PATH</span><span style="color:#89DDFF;">=\${</span><span style="color:#A6ACCD;">PATH</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">:/home/ubuntu/download</span><span style="color:#89DDFF;">\`</span></span></code></pre></div><ul><li>在 <code>/etc/environment</code> 文件中添加路径也可以实现<strong>全局</strong></li></ul><h2 id="变量" tabindex="-1">变量 <a class="header-anchor" href="#变量" aria-label="Permalink to &quot;变量&quot;">​</a></h2><ul><li>shell脚本是弱类型语言</li><li>赋值 <code>=</code> 两端不可加空格</li><li>字符串可以不带引号，但<strong>推荐字符串变量带引号</strong>，防止出现空格的情况</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 定义变量</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">10</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">20</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">hello</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 推荐带&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2 10</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 字符串拼接</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">=\${</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> world!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#拼接赋值</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$a</span><span style="color:#C3E88D;"> world!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#拼接赋值 (常用)</span></span></code></pre></div><h3 id="外部传参" tabindex="-1">外部传参 <a class="header-anchor" href="#外部传参" aria-label="Permalink to &quot;外部传参&quot;">​</a></h3><p>在shell脚本中，可以使用$1、$2、$3等变量来获取外部传入的参数。其中$1表示第一个参数，$2表示第二个参数，以此类推。例如：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/bash  </span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">第一个参数为：</span><span style="color:#A6ACCD;font-style:italic;">$1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">第二个参数为：</span><span style="color:#A6ACCD;font-style:italic;">$2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">第三个参数为：</span><span style="color:#A6ACCD;font-style:italic;">$3</span><span style="color:#89DDFF;">&quot;\`</span></span></code></pre></div><p>如果在命令行中执行该脚本，并且传入了三个参数，如下所示：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">./test.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arg1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arg2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arg3</span></span></code></pre></div><p>那么输出结果为：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">第一个参数为：arg1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">第二个参数为：arg2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">第三个参数为：arg3</span></span></code></pre></div><h3 id="命令置换符" tabindex="-1">命令置换符 <a class="header-anchor" href="#命令置换符" aria-label="Permalink to &quot;命令置换符&quot;">​</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/usr/bin/zsh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">\`</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> $a</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> $b</span></span></code></pre></div><p>输出当前路径</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/usr/bin/zsh</span></span>
<span class="line"><span style="color:#A6ACCD;">var</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> $var</span></span></code></pre></div><p>获取ubuntu行号</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/usr/bin/zsh</span></span>
<span class="line"><span style="color:#A6ACCD;">var</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">grep</span><span style="color:#C3E88D;"> ubuntu /etc/passwd -n </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">cut</span><span style="color:#C3E88D;"> -d: -f1</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> $var</span></span></code></pre></div><h2 id="shell中的输入输出" tabindex="-1">shell中的输入输出 <a class="header-anchor" href="#shell中的输入输出" aria-label="Permalink to &quot;shell中的输入输出&quot;">​</a></h2><h2 id="shell中的数组" tabindex="-1">shell中的数组 <a class="header-anchor" href="#shell中的数组" aria-label="Permalink to &quot;shell中的数组&quot;">​</a></h2><h2 id="shell中的算数运算符" tabindex="-1">shell中的算数运算符 <a class="header-anchor" href="#shell中的算数运算符" aria-label="Permalink to &quot;shell中的算数运算符&quot;">​</a></h2>`,37),e=[p];function t(c,r,i,y,h,D){return a(),l("div",null,e)}const d=s(o,[["render",t]]);export{F as __pageData,d as default};
